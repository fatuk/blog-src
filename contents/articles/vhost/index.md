---
title: Скрипт для создания виртуальных хостов под apache2
author: fatuk
date: 2015-01-31
template: article.jade
tags: apache, virtual host, shell, config, Ubuntu
---

![apache](apache.png)

Для меня всегда была проблема создать новый виртуальный хост в Ubuntu.
Но теперь я нашел [скрипт](https://gist.github.com/gistwebdev/5666279) для автоматизации этого процесса.
<span class="more"></span>

Сначала я решил использовать этот скрипт не модифицируя его. Но оказалось, что он использует шаблон для генерации конфига виртуальных хостов. И этот шаблон мне немного не подошел. В итоге я сделал форк и скрипта, и шаблона. [Ссылка](https://github.com/fatuk/vhost) на мой форк. Там есть документация. Здесь я немного расскажу, что скрипт умеет делать.

Команда `vhost имя_сайта` создает папку `~/www/имя_сайта`, добавляет конфиг с таким же именем в папку `/etc/apache2/sites-available/имя_сайта.conf`, делает его активным, т.е. создает ссылку на конфиг в папке `sites-enabled` и дописывает новый сайт в файл `/etc/hosts`. Apache перегружается скриптом. Вобщем теперь можно легко создавать виртуальный хост одной командой из консоли.

### Список возможностей скрипта:

* добавление
* удаление
* список доступных/активных хостов

### Можно переопределить значения по умолчанию, если они не подходят:
* email админа
* папку, в которой скрипт разместит хост
* адрес будущего сайта

Если у кого-то возникнут идеи или предложения по модернизации скрипта, то милости прошу в мой [репозиторий](https://github.com/fatuk/vhost).
